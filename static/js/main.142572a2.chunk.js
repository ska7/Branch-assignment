(window["webpackJsonpevaluations-react-table-crud"]=window["webpackJsonpevaluations-react-table-crud"]||[]).push([[0],{43:function(e,t,r){e.exports=r(61)},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n,a,o,c,i,l,s,u=r(12),h=r(0),d=r.n(h),f=r(36),m=r.n(f),p=r(16),v=r(5),b=(r(48),r(7)),g=(n={},Object(b.a)(n,"save","save-btn"),Object(b.a)(n,"delete","delete-btn"),Object(b.a)(n,"reset","reset-btn"),n),E=(a={},Object(b.a)(a,"save","Save"),Object(b.a)(a,"delete","Delete"),Object(b.a)(a,"reset","Reset Users"),a),y=function(e){var t=e.onClick,r=e.label,n=e.isDisabled,a=e.type,o=e.customCls,c=g[a]||"",i=r||E[a];return d.a.createElement("button",{onClick:t,disabled:n,className:"btn ".concat(c," ").concat(o)},i)},j=(r(49),function(e){var t=e.headerTitle,r=e.headerBtnProps,n=e.pageHeaderCls,a=void 0===n?"":n;return d.a.createElement("div",{className:"page-header ".concat(a)},d.a.createElement("h1",null,t),d.a.createElement(y,r))}),O=(r(50),function(e){var t=e.children,r=e.pageTitle,n=e.pageHeaderButtonProps,a=e.pageHeaderCls;return d.a.createElement("div",{className:"main-page-container"},d.a.createElement(j,{headerTitle:r,headerBtnProps:n,pageHeaderCls:a}),t)}),w=r(37),U=r(42),N=(r(51),["width"]),k=function(e){var t=e.width,r=void 0===t?"100px":t,n=Object(U.a)(e,N);return d.a.createElement("span",{className:"loader",style:Object(w.a)({width:r,height:r},n)})},x=function(){},S=function(e){return e.stopPropagation()},C=(r(52),function(e){var t=e.email,r=e.name,n=e.role,a=e.showCheckbox,o=void 0===a||a,c=e.rowCls,i=void 0===c?"":c,l=e.isSelected,s=e.onClick,u=l?"selected":"",h="../details?user=".concat(t);return d.a.createElement("div",{className:"users-table-row ".concat(u," ").concat(i),onClick:s},d.a.createElement("div",{className:"user-table-row-checkbox"},o&&d.a.createElement("input",{type:"checkbox",checked:l,onChange:x})),d.a.createElement("div",{className:"user-table-row-value user-id-container"},d.a.createElement("p",{className:"user-email-value"},o?d.a.createElement(p.b,{onClick:S,to:h},t):t),d.a.createElement("p",{className:"user-name-value-mobile"},r)),d.a.createElement("p",{className:"user-table-row-value user-name-value"},r),d.a.createElement("p",{className:"user-table-row-value user-role-value"},n))}),L=function(){return d.a.createElement(C,{showCheckbox:!1,email:"EMAIL",name:"NAME",role:"ROLE",rowCls:"users-table-labels"})},A=function(e){var t=e.checkIfUserIsSelected,r=e.handleSelectUser,n=e.resetUsers,a=e.usersAreLoading,o=e.users,c=void 0===o?[]:o;return d.a.createElement(d.a.Fragment,null,a&&d.a.createElement(k,null),d.a.createElement(L,null),c.map((function(e){var n=t(e.email);return d.a.createElement(C,Object.assign({},e,{isSelected:n,onClick:function(){return r(e.email)},key:e.email}))})),!a&&d.a.createElement(y,{onClick:n,type:"reset"}))},I=r(8),R=r(6),P=r(17),_=r(21),D=r(35),G=Object(D.a)(o||(o=Object(_.a)(["\n  mutation updateUser($email: ID!, $newAttributes: UserAttributesInput!) {\n    updateUser(email: $email, newAttributes: $newAttributes) {\n      email\n      name\n      role\n    }\n  }\n"]))),T=Object(D.a)(c||(c=Object(_.a)(["\n  mutation deleteUsers($emails: [ID]!) {\n    deleteUsers(emails: $emails)\n  }\n"]))),M=Object(D.a)(i||(i=Object(_.a)(["\n  mutation resetUsers {\n    resetUsers\n  }\n"]))),F=Object(D.a)(l||(l=Object(_.a)(["\n  query getAllUsers {\n    allUsers {\n      email\n      name\n      role\n    }\n  }\n"]))),$=Object(D.a)(s||(s=Object(_.a)(["\n  query getUser($email: ID!) {\n    user(email: $email) {\n      name\n      role\n      email\n    }\n  }\n"]))),B=r(14),H=function(){var e=Object(h.useState)([]),t=Object(R.a)(e,2),r=t[0],n=t[1],a=function(e){return r.includes(e)};return{selectedUsers:r,handleSelectUser:function(e){var t=[];t=a(e)?r.filter((function(t){return t!==e})):[].concat(Object(B.a)(r),[e]),n(t)},checkIfUserIsSelected:a,clearSelectedUsers:function(){return n([])}}};function q(){q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(k){i=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new w(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=y(c,r);if(i){if(i===u)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function h(){}function d(){}function f(){}var m={};i(m,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(U([])));v&&v!==t&&r.call(v,a)&&(m=v);var b=f.prototype=h.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function c(){return new t((function(n,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(h).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(a,o,n,c)}))}return n=n?n.then(c,c):c()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function U(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=f,i(b,"constructor",f),i(f,"constructor",d),d.displayName=i(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),i(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(l(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(b),i(b,c,"Generator"),i(b,a,(function(){return this})),i(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=U,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:U(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var z,J=Object(h.createContext)(null),K=function(e){var t=e.children,r=Object(h.useState)(!0),n=Object(R.a)(r,2),a=n[0],o=n[1],c=Object(h.useState)([]),i=Object(R.a)(c,2),l=i[0],s=i[1],u=H(),f=u.selectedUsers,m=u.handleSelectUser,p=u.checkIfUserIsSelected,v=u.clearSelectedUsers,b=Object(P.b)(F,{onCompleted:function(e){var t=e.allUsers;s(t),o(!1)},fetchPolicy:"network-only"}).refetch,g=Object(P.a)(T,{variables:{emails:f},onCompleted:function(){O(),v(),o(!1)}}),E=Object(R.a)(g,1)[0],y=Object(P.a)(M,{onCompleted:function(){var e=Object(I.a)(q().mark((function e(){var t,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,r=t.data,s(null===r||void 0===r?void 0:r.allUsers),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),j=Object(R.a)(y,1)[0],O=function(){var e=l.filter((function(e){return!p(e.email)}));s(e)};return d.a.createElement(J.Provider,{value:{selectedUsers:f,users:l,usersAreLoading:a,handleSelectUser:m,checkIfUserIsSelected:p,deleteUsers:function(){o(!0),E()},resetUsers:function(){o(!0),j()}}},t)},V=(r(56),function(){var e=Object(h.useContext)(J),t=e.selectedUsers,r=e.checkIfUserIsSelected,n=e.handleSelectUser,a=e.deleteUsers,o=e.resetUsers,c=e.users,i=e.usersAreLoading,l={onClick:a,isDisabled:!t.length||i,type:"delete"};return d.a.createElement(O,{pageTitle:"Users",pageHeaderButtonProps:l},d.a.createElement(A,{resetUsers:o,handleSelectUser:n,selectedUsers:t,usersAreLoading:i,users:c,checkIfUserIsSelected:r}))}),Y=function(){return d.a.createElement(K,null,d.a.createElement(V,null))},Q=function(e){var t=e.userName,r=e.handleUserNameChange;return d.a.createElement("div",{className:"user-name-input-container"},d.a.createElement("label",{htmlFor:"userName"},"Name"),d.a.createElement("input",{id:"userName",placeholder:"Type in user full name",value:t,onChange:r}))},W=function(e){var t=Object(p.c)();return Object(R.a)(t,1)[0].get(e)},X=Object(h.createContext)(null),Z=function(e){var t=e.children,r=W("user"),n=Object(h.useState)(!1),a=Object(R.a)(n,2),o=a[0],c=a[1],i=Object(h.useState)(""),l=Object(R.a)(i,2),s=l[0],u=l[1],f=Object(h.useState)(""),m=Object(R.a)(f,2),p=m[0],v=m[1],b=Object(h.useState)(!0),g=Object(R.a)(b,2),E=g[0],y=g[1],j=Object(h.useState)(""),O=Object(R.a)(j,2),w=O[0],U=O[1],N=Object(h.useState)(""),k=Object(R.a)(N,2),x=k[0],S=k[1],C=Object(h.useState)(!1),L=Object(R.a)(C,2),A=L[0],I=L[1];Object(P.b)($,{variables:{email:r},onCompleted:function(e){var t=e.user;y(!1),U(t.name),u(t.name),S(t.role),v(t.role)},onError:function(){I(!0),y(!1)}});var _=Object(P.a)(G,{variables:{email:r,newAttributes:{name:w,role:x}},onCompleted:function(){return y(!1)}}),D=Object(R.a)(_,1)[0];return Object(h.useEffect)((function(){c(s!==w||p!==x)}),[s,p,w,x]),d.a.createElement(X.Provider,{value:{userEmail:r,userRole:x,userName:w,formIsDirty:o,hasError:A,userDetailsAreLoading:E,handleUpdateUser:function(){y(!0),D()},handleUserNameChange:function(e){var t=e.target;return U(t.value||"")},handleUserRoleChange:function(e){var t=e.target;return S(t.value||"")}}},t)},ee=["ADMIN","DEVELOPER","APP_MANAGER","MARKETING","SALES"],te=(z={},Object(b.a)(z,"ADMIN","Admin"),Object(b.a)(z,"DEVELOPER","Developer"),Object(b.a)(z,"APP_MANAGER","App Manager"),Object(b.a)(z,"MARKETING","Marketing"),Object(b.a)(z,"SALES","Sales"),z),re=(r(57),function(e){var t=e.userRole,r=e.isSelected,n=te[t];return d.a.createElement("div",{className:"user-role-option"},d.a.createElement("input",{type:"radio",id:t,value:t,name:"userRoles",defaultChecked:r,key:t}),d.a.createElement("label",{htmlFor:t},n))}),ne=function(e){var t=e.activeRole,r=e.handleRoleChange;return d.a.createElement("div",{className:"user-roles-radio-group"},d.a.createElement("label",{htmlFor:"userRoles"},"Role"),d.a.createElement("fieldset",{id:"userRoles",onChange:r},ee.map((function(e){var r=e===t;return d.a.createElement(re,{userRole:e,key:e,isSelected:r})}))))},ae=(r(58),r(59),function(e){var t=e.userEmail;return d.a.createElement("div",{className:"no-user-found-container"},t?d.a.createElement("h1",null,"No user found with email ",d.a.createElement("p",null,t)):d.a.createElement("h1",null,"No user found"),d.a.createElement(p.b,{to:"../main"},d.a.createElement(y,{type:"save",label:"Go Back"})))}),oe=function(){var e=Object(h.useContext)(X),t=e.userEmail,r=e.userRole,n=e.userName,a=e.formIsDirty,o=e.hasError,c=e.userDetailsAreLoading,i=e.handleUpdateUser,l=e.handleUserNameChange,s=e.handleUserRoleChange,u={onClick:i,isDisabled:c||!n||!a,type:"save"};return c?d.a.createElement(k,null):o?d.a.createElement(ae,{userEmail:t}):d.a.createElement(O,{pageTitle:t,pageHeaderButtonProps:u,pageHeaderCls:"details-page-header"},d.a.createElement("div",{className:"details-page-body"},d.a.createElement(Q,{userName:n,handleUserNameChange:l}),d.a.createElement(ne,{activeRole:r,handleRoleChange:s})))},ce=function(){return d.a.createElement(Z,null,d.a.createElement(oe,null))},ie=function(){return Object(v.o)([{path:"/",children:[{path:"/",element:d.a.createElement(v.a,{to:"main"})},{path:"main",element:d.a.createElement(Y,null)},{path:"details",element:d.a.createElement(ce,null)}]}])},le=r(29),se="https://dn6jtahorvekvabij3ziq3rsk4.appsync-api.us-east-1.amazonaws.com/graphql",ue="da2-jfxhcmqg6jhgjjzdca2w2d5o7m",he=new le.a({uri:se,request:function(e){e.setContext({headers:{"x-api-key":ue}})}}),de=(r(60),function(){return d.a.createElement(u.a,{client:he},d.a.createElement(p.a,null,d.a.createElement(ie,null)))});m.a.render(d.a.createElement(de,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.142572a2.chunk.js.map